<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Trellix-Vanilla Home</title>
    <link href="/css/reset.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="page-wrapper">
      <nav>
        <a class="logo" href="/" id="home-link">
          <div>Trellix-Vanilla</div>
          <div>a Stupid Demo</div>
        </a>
        <div class="links">
          <a href="https://github.com/kbitgood/trellix-vanilla">
            <img src="/img/github-mark-white.png" aria-hidden="true" />
            <span>Source</span>
          </a>
        </div>
        <div class="links" id="login-link">
          <a href="/login">
            <svg><use href="/img/icons.svg#login"></use></svg>
            <span>Log in</span>
          </a>
        </div>
        <script>
          const username = document.cookie
            .split(";")
            .map((c) => c.trim().split("="))
            .find((c) => c[0] === "username")?.[1];
          if (username) {
            document.querySelector("nav #login-link").innerHTML =
              '<a href="/logout">' +
              '<svg><use href="/img/icons.svg#logout"></use></svg>' +
              "<span>Log out</span></a>";
            document.querySelector("nav #home-link").href = "/home";
          }
        </script>
      </nav>
      <main class="home">
        <form id="new-board">
          <h2>New Board</h2>
          <label for="name">Name</label>
          <input
            name="name"
            type="text"
            required
            id="name"
            style="margin-top: 0.5rem"
          />
          <div class="form-row">
            <label for="board-color">Color</label
            ><input
              id="board-color"
              name="color"
              type="color"
              value="#cbd5e1"
            />
            <button type="submit" style="margin-left: 0.75rem; flex-grow: 1">
              Create
            </button>
          </div>
          <span class="form-error" style="display: none"></span>
        </form>
        <section id="boards">
          <h2>Boards</h2>
          <div class="board-list"></div>
        </section>
      </main>
    </div>
    <script src="/js/home.js"></script>
  </body>
</html>
