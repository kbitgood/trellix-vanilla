<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sign up for Trellix-Vanilla</title>
    <link href="/css/reset.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="page-wrapper">
      <nav>
        <a class="logo" href="/" id="home-link">
          <div>Trellix-Vanilla</div>
          <div>a Stupid Demo</div>
        </a>
        <div class="links">
          <a href="https://github.com/kbitgood/trellix-vanilla">
            <img src="/img/github-mark-white.png" aria-hidden="true" />
            <span>Source</span>
          </a>
        </div>
        <div class="links" id="login-link">
          <a href="/login">
            <svg><use href="/img/icons.svg#login"></use></svg>
            <span>Log in</span>
          </a>
        </div>
        <script>
          const username = document.cookie
            .split(";")
            .map((c) => c.trim().split("="))
            .find((c) => c[0] === "username")?.[1];
          if (username) {
            document.querySelector("nav #login-link").innerHTML =
              '<a href="/logout">' +
              '<svg><use href="/img/icons.svg#logout"></use></svg>' +
              "<span>Log out</span></a>";
            document.querySelector("nav #home-link").href = "/home";
          }
        </script>
      </nav>
      <main class="login">
        <article>
          <h1 id="signup-header">Sign up</h1>
          <form id="signup-form" method="post">
            <div>
              <label for="username">Username</label>
              <input
                id="username"
                name="username"
                aria-describedby="signup-header"
                required=""
              />
            </div>
            <div>
              <label for="password">Password</label>
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="current-password"
                aria-describedby="password-error"
                required=""
              />
            </div>
            <span class="form-error" style="display: none"></span>
            <button type="submit">Sign in</button>
            <div class="sub-submit">
              Already have an account?
              <a href="/login">Log in</a>.
            </div>
          </form>
          <h2>Privacy Notice</h2>
          <p>
            This won't be used for anything besides this stupid little demo app.
            You just need to be able to log in so that you can see your boards
            and no one else's. But common sense rules still apply. Don't put any
            personally identifiable information in here. Don't reuse passwords.
            Etc.
          </p>
          <p>
            Note: you don't even have to use your email to log in. Just some
            random username.
          </p>
          <h2>Terms of Service</h2>
          <p>
            This is a demo app, there are no terms of service. Don't be
            surprised if your data disappears.
          </p>
        </article>
      </main>
    </div>
  </body>
  <script src="/js/login.js"></script>
</html>
